!function e(t,r,n){function s(u,o){if(!r[u]){if(!t[u]){var a="function"==typeof require&&require;if(!o&&a)return a(u,!0);if(i)return i(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[u]={exports:{}};t[u][0].call(l.exports,function(e){var r=t[u][1][e];return s(r?r:e)},l,l.exports,e,t,r,n)}return r[u].exports}for(var i="function"==typeof require&&require,u=0;u<n.length;u++)s(n[u]);return s}({1:[function(e,t,r){"use strict";var n=e("../util").tip,s=e("./classview");Vue.use(e("vue-resource")),Vue.filter("validName",function(e){return e.slice(0,48)});var i=new Vue({el:"#class-tab-2",data:{courses:[],className:"",course:{}},methods:{addClass:function(e){var t=this;if(!this.course||!this.className||this.className.length>48)return e.preventDefault();var r={};r.ref_course=this.course._id,r.class_name=this.course.name+"-"+this.course.term+"-"+this.className,this.$http.post("/api/t/class",r).then(function(e){t.className="",t.course={};var r=document.querySelectorAll(".mdl-layout__tab");r[2].click(),s.get(),n("添加成功，录入学生后即可发布测试","success")},function(e){return n("添加失败","error")})}}});t.exports=i},{"../util":11,"./classview":5,"vue-resource":25}],2:[function(e,t,r){"use strict";var n=e("../util").tip,s=e("./courseview");Vue.use(e("vue-resource")),Vue.filter("validName",function(e){return e.slice(0,48)});var i=new Vue({el:"#course-tab-2",data:{course:{name:"",duration:32,term:"",chapters:[],ref_qset:[]}},methods:{add:function(e){var t=this;this.course.name?this.$http.post("/api/t/course",this.course).then(function(e){n("添加成功，请在设置章节和知识点后录入习题","success"),t.course.name="",t.course.duration=32;var r=document.querySelectorAll(".mdl-layout__tab");r[0].click(),s.get()},function(e){n("添加失败","error")}):e.preventDefault()}}});t.exports=i},{"../util":11,"./courseview":6,"vue-resource":25}],3:[function(e,t,r){"use strict";var n=(e("./courseview"),e("./classview")),s=e("../util").tip;Vue.use(e("vue-resource"));var i=new Vue({el:"#course-tab-3",data:{courses:[],course:{_id:"",chapter:""},jsonData:[]},computed:{idx:function(){for(var e=0,t=this.courses.length;t>e;e++)if(this.courses[e]._id===this.course._id)return e;return-1}},methods:{save:function(e){var t=this;if(!this.course._id||!this.jsonData.length)return e.preventDefault();var r=[],i={};this.jsonData.forEach(function(e){var t={};if(t.genre=e.类型,t.describe={},t.describe.content=e.题目,t.ref_point=e.知识点,t.answers=[e.参考答案],"单选题"===t.genre||"多选题"===t.genre){var n=e.选项.split(";");t.selections=n.map(function(e){return e.trim().slice(2)}),t.answers=e.参考答案.split("").map(function(e){return n.filter(function(t){return 0===t.indexOf(e)}).join("").slice(2).trim()})}r.push(t)}),i.quizs=r,i.ref_course=this.course._id,i.ref_chapter=this.course.chapter,this.$http.post("/api/t/qset",i).then(function(e){s("录入成功","success"),t.course={},t.jsonData=[],n.get()},function(e){console.log(e),s("录入失败","error")})},read:function(e,t){var r=this;if(!this.course._id||!this.course.chapter)return e.preventDefault();var n=this.courses.filter(function(e){return e._id===r.course._id})[0],s=n.chapters.filter(function(e){return e.title===r.course.chapter})[0]||{},u=s.tags||[],o=e.target.files[0],a=new FileReader;return a.onload=function(e){var t=e.target.result,r=XLSX.read(t,{type:"binary"}),n=r.SheetNames[0],s=r.Sheets[n];i.jsonData=XLSX.utils.sheet_to_json(s).filter(function(e){if(-1===u.indexOf(e.知识点))return!1;if("问答题"===e.类型)return e.选项="",!(!e.题目||!e.参考答案);if("判断题"===e.类型)return e.参考答案&&("正确"===e.参考答案||"错误"===e.参考答案)?!0:!1;if("单选题"===e.类型||"多选题"===e.类型){if(!e.选项)return!1;var t=e.选项.split(/\;|\n/).map(function(e){return e.trim().replace(/\&\#10/g,"")}).filter(function(e){return/^[A-Z]\.[^\.]/.test(e)&&1===e.match(/[A-Z]\./g).length});if(t.length<2)return!1;e.选项=t.join(";");var r=!(!e.题目||!e.参考答案);return r?/^[A-Z]+$/.test(e.参考答案)&&e.参考答案.split("").length<=t.length:r}return!1})},o?void a.readAsBinaryString(o):null}}});t.exports=i},{"../util":11,"./classview":5,"./courseview":6,"vue-resource":25}],4:[function(e,t,r){"use strict";var n=e("../util").tip;Vue.use(e("vue-resource"));var s=new Vue({el:"#class-tab-3",data:{classes:[],Class:{},jsonData:[]},methods:{read:function(e){if(!this.Class._id)return e.preventDefault();var t=e.target.files[0],r=new FileReader;return r.onload=function(e){var t=e.target.result,r=XLSX.read(t,{type:"binary"}),n=r.SheetNames[0],i=r.Sheets[n];s.jsonData=XLSX.utils.sheet_to_json(i).filter(function(e){return e.姓名&&e.学号&&e.专业&&e.班级?!0:!1})},t?void r.readAsBinaryString(t):null},save:function(e){var t=this;return this.Class._id&&this.jsonData.length?(this.Class.ref_students=this.jsonData.map(function(e){return{name:e.姓名,no:e.学号,spercialty:e.专业,className:e.班级}}),void this.$http.put("/api/t/class",this.Class).then(function(e){n("录入成功","success"),t.jsonData=[],t.Class={};var r=document.querySelectorAll(".mdl-layout__tab");r[3].click()},function(e){return n("网络故障","error")})):e.preventDefault()}}});t.exports=s},{"../util":11,"vue-resource":25}],5:[function(e,t,r){"use strict";var n=e("./addstudents"),s=e("./pubquiz"),i=e("./testview"),u=e("../util").tip;Vue.use(e("vue-resource"));var o=new Vue({el:"#class-tab-1",data:{classes:[]},methods:{toggleCard:function(e){var t=e.target;"I"===t.nodeName&&(t=t.parentNode);var r=t.parentNode.parentNode,n=r.querySelectorAll(".body"),s=r.querySelector(".full-text");"fullscreen_exit"===s.innerText?s.innerText="fullscreen":s.innerText="fullscreen_exit",[].forEach.call(n,function(e){e.style.display&&"none"!==e.style.display?e.style.display="none":e.style.display="block"})},get:function(){var e=this;this.$http.get("/api/t/class").then(function(t){e.classes=t.data,n.classes=e.classes,s.classes=e.classes,s.get(),i.classes=e.classes,i.get()},function(e){return u("网络故障"+e.toString(),"error")})},del:function(e){var t=this;this.$http["delete"]("/api/t/class",this.classes[e]).then(function(r){t.classes.splice(e,1),n.classes=t.classes,s.classes=t.classes,s.get(),i.classes=t.classes,i.get(),u("删除成功","success")},function(e){return u("网络故障","error")})}},ready:function(){this.get()}});t.exports=o},{"../util":11,"./addstudents":4,"./pubquiz":8,"./testview":10,"vue-resource":25}],6:[function(e,t,r){"use strict";var n=e("../util").tip,s=e("../util").renderButton,i=e("./addquiz"),u=e("./quizview"),o=e("./addclass"),a=e("./classview");Vue.use(e("vue-resource")),Vue.filter("validChapter",function(e){return e?e.slice(0,28):"新篇章"}),Vue.filter("validTag",function(e){return e?e.slice(0,16):""});var c=new Vue({el:"#course-tab-1",data:{cards:[]},methods:{toggleCard:function(e){var t=e.target;"I"===t.nodeName&&(t=t.parentNode);var r=t.parentNode.parentNode,n=r.querySelectorAll(".body"),s=r.querySelector(".full-text");"fullscreen_exit"===s.innerText?s.innerText="fullscreen":s.innerText="fullscreen_exit",[].forEach.call(n,function(e){e.style.display&&"none"!==e.style.display?e.style.display="none":e.style.display="block"})},editChapter:function(e){var t=e.target,r=e.target.parentNode,n=r.querySelector(".editable"),s=r.querySelector(".editInput");t===n?(t.style.display="none",s.style.display="inline",window.setTimeout(function(){r.querySelector(".editInput").focus()},300)):(t.style.display="none",n.style.display="inline")},editTag:function(e,t,r,n){var s=e.target.parentNode,i=e.target,u=s.querySelector(".editable"),o=s.querySelector(".editInput");i===u?(i.style.display="none",o.style.display="inline-block",window.setTimeout(function(){s.querySelector(".editInput").focus()},300)):(i.style.display="none",u.style.display="inline-block",this.cards[n].chapters[r].tags[t]||this.cards[n].chapters[r].tags.splice(t,1))},addTag:function(e,t){this.cards[t].chapters[e].tags.push("知识点")},addChapter:function(e){var t={title:"新篇章",tags:[]};this.cards[e].chapters.push(t),s("#course-tab-1")},removeChapter:function(e,t){this.cards[t].chapters.splice(e,1)},save:function(e,t){var r=this,s=this.cards[e];return new Set(s.chapters.map(function(e){return e.title})).size!==s.chapters.length?(n("章节名不能重复","error"),t.preventDefault()):void this.$http.put("/api/t/course",s).then(function(e){n("保存成功","success"),i.courses=r.cards,u.courses=r.cards,u.quizs=[],o.courses=r.cards,a.get()},function(e){return n("保存失败","error")})},del:function(e){var t=this,r={};r._id=this.cards[e]._id,this.$http["delete"]("/api/t/course",r).then(function(r){n("删除成功","success"),t.cards.splice(e,1),i.courses=t.cards,u.courses=t.cards,o.courses=t.cards,o.courses=t.cards,a.get()},function(e){return n("删除失败","error")})},get:function(){var e=this;this.$http.get("/api/t/course").then(function(t){e.cards=t.data,s("#course-tab-1"),i.courses=e.cards,u.courses=e.cards,o.courses=e.cards},function(e){return n("网络故障","error")})}},ready:function(){var e=this;this.$http.get("/api/t/course").then(function(t){e.cards=t.data,s("#course-tab-1"),i.courses=e.cards,u.courses=e.cards,o.courses=e.cards},function(e){return n("网络故障","error")})}});t.exports=c},{"../util":11,"./addclass":1,"./addquiz":3,"./classview":5,"./quizview":9,"vue-resource":25}],7:[function(e,t,r){"use strict";var n=e("../util").renderTabs,s=(e("./courseview"),e("./addcourse"),e("./classview"),e("./testview"),document.querySelector(".mdl-js-layout")),i=document.querySelectorAll(".mdl-layout__tab-panel"),u=[{url:"#course-tab-1",title:"查看课程"},{url:"#course-tab-2",title:"添加课程"},{url:"#course-tab-3",title:"录入习题"},{url:"#course-tab-4",title:"查看习题"}],o=[{url:"#class-tab-1",title:"查看班次"},{url:"#class-tab-2",title:"添加班次"},{url:"#class-tab-3",title:"录入学生"},{url:"#class-tab-4",title:"发布测试"},{url:"#class-tab-5",title:"查看测试"}],a=[{url:"#info-tab-1",title:"更新信息"}];new Vue({el:"#app",data:{tabs:u},methods:{setCourseTabs:function(e){this.tabs=u,n(i,s)},setClassTabs:function(e){this.tabs=o,n(i,s)},setInfoTabs:function(e){this.tabs=a,n(i,s)}},ready:function(){window.setTimeout(function(){document.querySelectorAll(".mdl-layout__tab")[0].click();var e=document.querySelector(".mdl-layout__tab-bar-left-button"),t=document.querySelector(".mdl-layout__tab-bar-right-button");if(e&&t){var r=e.parentNode;r.removeChild(e),r.removeChild(t)}var n=document.querySelectorAll("select");[].forEach.call(n,function(e){return e.value=null})},1e3)}})},{"../util":11,"./addcourse":2,"./classview":5,"./courseview":6,"./testview":10}],8:[function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var s=(e("./classview"),e("../util").tip),i=e("../util").renderTable,u=(e("../util").render,e("./testview"));Vue.use(e("vue-resource"));var o=new Vue({el:"#class-tab-4",data:{classes:[],Class:{},qsets:[],chapterList:[],duration:10,maxjudgeNum:0,maxsingleNum:0,maxmultiNum:0,maxaskNum:0,quizNum:0,judgeNum:0,singleNum:0,multiNum:0,askNum:0},computed:{studentNum:function(){return Object.keys(this.Class).length?this.Class.ref_students.length:0},expireNum:function(){return this.judgeNum+this.singleNum+this.multiNum+this.askNum}},methods:{getQuizNum:function(e){var t=this;return-1===["INPUT","SPAN"].indexOf(e.target.nodeName)?e.preventDefault():void setTimeout(function(){var e=document.querySelector(".pub-table"),r=e.querySelectorAll(".is-selected");t.quizNum=0,t.chapterList=[],t.judgeNum=0,t.singleNum=0,t.multiNum=0,t.askNum=0;var s=document.querySelectorAll("#class-tab-4 .mdl-slider__background-upper"),i=document.querySelectorAll("#class-tab-4 .mdl-slider__background-lower");[].concat(n(s)).forEach(function(e,t){t>0&&(e.style.flex="1")}),[].concat(n(i)).forEach(function(e,t){t>0&&(e.style.flex="0")}),[].forEach.call(r,function(e){t.quizNum+=Number(e.childNodes[3].textContent||e.childNodes[3].innerText),t.chapterList.push(e.childNodes[2].textContent||e.childNodes[2].innerText)});var u=t.qsets.filter(function(e){return-1!==t.chapterList.indexOf(e.ref_chapter)});u.length?(t.maxjudgeNum=u.map(function(e){return e.quizs}).reduce(function(e,t){return e.concat(t)}).filter(function(e){return"判断题"===e.genre}).length,t.maxsingleNum=u.map(function(e){return e.quizs}).reduce(function(e,t){return e.concat(t)}).filter(function(e){return"单选题"===e.genre}).length,t.maxmultiNum=u.map(function(e){return e.quizs}).reduce(function(e,t){return e.concat(t)}).filter(function(e){return"多选题"===e.genre}).length,t.maxaskNum=u.map(function(e){return e.quizs}).reduce(function(e,t){return e.concat(t)}).filter(function(e){return"问答题"===e.genre}).length):(t.maxjudgeNum=0,t.maxsingleNum=0,t.maxmultiNum=0,t.maxaskNum=0)},100)},get:function(){var e=this;if(this.Class._id){var t={};t.ref_course=this.Class.ref_course,this.$http.get("/api/t/qset",t).then(function(t){e.qsets=t.data,e.quizNum=0,i(document.querySelector(".pub-table"))},function(e){return s("网络故障","error")})}},pub:function(e){var t=this;if(!Object.keys(this.Class).length||!this.quizNum||!this.expireNum||!this.studentNum||this.quizNum<this.expireNum)return e.preventDefault();if(this.judgeNum>this.maxjudgeNum||this.singleNum>this.maxsingleNum||this.multiNum>this.maxmultiNum||this.askNum>this.maxaskNum)return e.preventDefault();var r={};r.class_id=this.Class._id,r.duration=this.duration,r.chapterList=this.chapterList,r.ref_students=this.Class.ref_students,r.quizNum=this.quizNum,r.expireNum=this.expireNum,r.judgeNum=this.judgeNum,r.singleNum=this.singleNum,r.multiNum=this.multiNum,r.askNum=this.askNum,this.$http.post("/api/t/test",r).then(function(e){t.Class={},t.qsets=[],t.duration=10,t.quizNum=0,t.expireNum=0,t.judgeNum=0,t.singleNum=0,t.multiNum=0,t.askNum=0,t.maxjudgeNum=0,t.maxsingleNum=0,t.maxmultiNum=0,t.maxaskNum=0,t.chapterList=[],s("发布成功","success");var r=document.querySelectorAll("#class-tab-4 .mdl-slider__background-upper"),i=document.querySelectorAll("#class-tab-4 .mdl-slider__background-lower");[].concat(n(r)).forEach(function(e,t){t>0&&(e.style.flex="1")}),[].concat(n(i)).forEach(function(e,t){t>0&&(e.style.flex="0")}),u.get()},function(e){return s("网络故障","error")})}}});t.exports=o},{"../util":11,"./classview":5,"./testview":10,"vue-resource":25}],9:[function(e,t,r){"use strict";var n=(e("./courseview"),e("./pubquiz")),s=e("../util").tip;Vue.use(e("vue-resource"));var i=new Vue({el:"#course-tab-4",data:{courses:[],course:{_id:"",chapter:""},quizs:[]},computed:{idx:function(){for(var e=0,t=this.courses.length;t>e;e++)if(this.courses[e]._id===this.course._id)return e;return-1}},methods:{get:function(e){var t=this;if(!this.course._id||!this.course.chapter)return e.preventDefault();var r={};r.ref_course=this.course._id,r.ref_chapter=this.course.chapter,this.$http.get("/api/t/qset",r).then(function(e){e.data?t.quizs=e.data:(s("未录入习题","message"),t.quizs=[])},function(e){return s("网络故障","error")})},del:function(e){var t=this;if(!this.course._id||!this.course.chapter||!this.quizs.length)return e.preventDefault();var r={};r.ref_course=this.course._id,r.ref_chapter=this.course.chapter,this.$http["delete"]("/api/t/qset",r).then(function(e){s("删除成功","success"),t.quizs=[],n.get()},function(e){return s("网络故障","error")})}}});t.exports=i},{"../util":11,"./courseview":6,"./pubquiz":8,"vue-resource":25}],10:[function(e,t,r){"use strict";var n=(e("./courseview"),e("./pubquiz"),e("../util").tip),s=e("../util").render;Vue.use(e("vue-resource")),Vue.filter("formatTime",function(e){if(!e)return"";var t=new Date(e);return t.getFullYear()+"年"+(t.getMonth()+1)+"月"+t.getDate()+"日  "+t.getHours()+"时:"+t.getMinutes()+"分"}),Vue.filter("formatUnfinish",function(e){return e.map(function(e,t){return t+1+" "+e.name+"("+e.no+")"}).join(",  ")}),Vue.filter("validScore",function(e){return e>10?10:e}),Vue.filter("getRightNum",function(e){return e.filter(function(e){return e.isRight}).length}),Vue.filter("getWrongNum",function(e){return e.filter(function(e){return!e.isRight}).length}),Vue.filter("getSum",function(e){var t=e.filter(function(e){return"判断题"===e.genre}).length,r=e.filter(function(e){return"单选题"===e.genre}).length,n=e.filter(function(e){return"多选题"===e.genre}).length,s=e.filter(function(e){return"问答题"===e.genre}).length;return 5*t+5*r+10*n+10*s}),Vue.filter("getAskScore",function(e){return e.filter(function(e){return"问答题"===e.genre}).map(function(e){return e.score}).reduce(function(e,t){return e+t},0)}),Vue.filter("getOtherScore",function(e){return e.filter(function(e){return"问答题"!==e.genre&&e.isRight}).map(function(e){return e.score}).reduce(function(e,t){return e+t},0)}),Vue.filter("getSumScore",function(e){return e.map(function(e){return e.score}).reduce(function(e,t){return e+t})});var i=new Vue({el:"#class-tab-5",data:{showStatus:!1,finishedList:[],unfinishList:[],classes:[],testList:[],result:[],classId:""},computed:{qrurl:function(){return this.test&&this.testList.length?"/api/qr/?url="+window.location.origin+"/api/t/test/"+this.test.uuid:"#"},canGetStatus:function(){return this.testList.length},showAnalysis:function(){return this.test.ref_students.every(function(e){return e.isChecked})}},methods:{save:function(e,t){this.finishedList[t].isChecked=!0,this.unfinishList.forEach(function(e){return e.isChecked=!0});var r=this.finishedList.concat(this.unfinishList);this.$http.put("/api/t/test/"+this.test.uuid,{data:r}).then(function(e){n("保存成功","success")},function(e){n("网络故障","error")})},share:function(e){return this.test&&this.testList.length?void 0:e.preventDefault()},analysis:function(e){this.showAnalysis?n("待完成","message"):n("请完成先批改任务","message")},clearStatus:function(){this.showStatus=!1},getStatus:function(e){return this.canGetStatus&&this.test?void(new Date(this.test.expireAt)-Date.now()>0?n("测试未结束","message"):(this.showStatus=!0,this.unfinishList=this.test.ref_students.filter(function(e){return!e.canGetAnswers}),this.finishedList=this.test.ref_students.filter(function(e){return e.canGetAnswers}),s())):e.preventDefault()},get:function(){var e=this;this.classId&&(this.showStatus=!1,this.$http.get("/api/t/test/status",{classId:this.classId}).then(function(t){e.testList=t.data},function(e){n("网络故障","error")}))}}});t.exports=i},{"../util":11,"./courseview":6,"./pubquiz":8,"vue-resource":25}],11:[function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function s(e,t){window.setTimeout(function(){var r=document.querySelectorAll(".mdl-layout__tab");[].forEach.call(r,function(n){new MaterialLayoutTab(n,r,e,t.MaterialLayout),new MaterialRipple(n)}),setTimeout(function(){r[0].click()},100)},100)}function i(e){var t=e.querySelector("th");t.parentNode.removeChild(t),setTimeout(function(){new MaterialDataTable(e),componentHandler.upgradeAllRegistered()})}function u(e){setTimeout(function(){componentHandler.upgradeAllRegistered()},100)}function o(e){setTimeout(function(){componentHandler.upgradeAllRegistered()},100)}function a(e){window.setTimeout(function(){var t=document.querySelector(e).querySelectorAll(".mdl-js-checkbox");[].forEach.call(t,function(e){new MaterialCheckbox(e)})},100)}function c(e){window.setTimeout(function(){var t=document.querySelector(e).querySelectorAll(".mdl-js-radio");[].concat(n(t)).forEach(function(e){new MaterialRadio(e)})},100)}function l(e){window.setTimeout(function(){var t=document.querySelector(e).querySelectorAll(".mdl-js-textfield");[].forEach.call(t,function(e){new MaterialTextfield(e)})},100)}function f(e,t){var r=document.querySelector("#tip");"error"===t&&(r.style.backgroundColor="#d9534f"),"success"===t&&(r.style.backgroundColor="#5cb85c"),"message"===t&&(r.style.backgroundColor="#3aaacf"),r.MaterialSnackbar.showSnackbar({message:e})}function h(){setTimeout(function(){componentHandler.upgradeAllRegistered()},100)}function d(){var e=document.querySelectorAll(".closebtn");[].concat(n(e)).forEach(function(e){e.addEventListener("click",function(e){var t=e.target,r=t.parentNode.parentNode;r.removeChild(t.parentNode)})})}t.exports.renderTabs=s,t.exports.tip=f,t.exports.renderTable=i,t.exports.renderButton=o,t.exports.renderRipple=u,t.exports.renderRadio=c,t.exports.renderCheckbox=a,t.exports.renderTextfield=l,t.exports.render=h,t.exports.bindClose=d},{}],12:[function(e,t,r){var n=e("../util");t.exports={request:function(e){return n.isFunction(e.beforeSend)&&e.beforeSend.call(this,e),e}}},{"../util":35}],13:[function(e,t,r){function n(e){var t,r,n,i={};return s.isString(e)&&s.each(e.split("\n"),function(e){n=e.indexOf(":"),r=s.trim(s.toLower(e.slice(0,n))),t=s.trim(e.slice(n+1)),i[r]?s.isArray(i[r])?i[r].push(t):i[r]=[i[r],t]:i[r]=t}),i}var s=e("../../util"),i=e("../../promise"),u=e("./xhr");t.exports=function(e){var t=(e.client||u)(e);return i.resolve(t).then(function(e){if(e.headers){var t=n(e.headers);e.headers=function(e){return e?t[s.toLower(e)]:t}}return e.ok=e.status>=200&&e.status<300,e})}},{"../../promise":28,"../../util":35,"./xhr":16}],14:[function(e,t,r){var n=e("../../util"),s=e("../../promise");t.exports=function(e){return new s(function(t){var r,s,i="_jsonp"+Math.random().toString(36).substr(2),u={request:e,data:null};e.params[e.jsonp]=i,e.cancel=function(){r({type:"cancel"})},s=document.createElement("script"),s.src=n.url(e),s.type="text/javascript",s.async=!0,window[i]=function(e){u.data=e},r=function(e){"load"===e.type&&null!==u.data?u.status=200:"error"===e.type?u.status=404:u.status=0,t(u),delete window[i],document.body.removeChild(s)},s.onload=r,s.onerror=r,document.body.appendChild(s)})}},{"../../promise":28,"../../util":35}],15:[function(e,t,r){var n=e("../../util"),s=e("../../promise");t.exports=function(e){return new s(function(t){var r,s=new XDomainRequest,i={request:e};e.cancel=function(){s.abort()},s.open(e.method,n.url(e),!0),r=function(e){i.data=s.responseText,i.status=s.status,i.statusText=s.statusText,t(i)},s.timeout=0,s.onload=r,s.onabort=r,s.onerror=r,s.ontimeout=function(){},s.onprogress=function(){},s.send(e.data)})}},{"../../promise":28,"../../util":35}],16:[function(e,t,r){var n=e("../../util"),s=e("../../promise");t.exports=function(e){return new s(function(t){var r,s=new XMLHttpRequest,i={request:e};e.cancel=function(){s.abort()},s.open(e.method,n.url(e),!0),r=function(e){i.data=s.responseText,i.status=s.status,i.statusText=s.statusText,i.headers=s.getAllResponseHeaders(),t(i)},s.timeout=0,s.onload=r,s.onabort=r,s.onerror=r,s.ontimeout=function(){},s.onprogress=function(){},n.isPlainObject(e.xhr)&&n.extend(s,e.xhr),n.isPlainObject(e.upload)&&n.extend(s.upload,e.upload),n.each(e.headers||{},function(e,t){s.setRequestHeader(t,e)}),s.send(e.data)})}},{"../../promise":28,"../../util":35}],17:[function(e,t,r){function n(e){var t=s.url.parse(s.url(e));return t.protocol!==o.protocol||t.host!==o.host}var s=e("../util"),i=e("./client/xdr"),u="withCredentials"in new XMLHttpRequest,o=s.url.parse(location.href);t.exports={request:function(e){return null===e.crossOrigin&&(e.crossOrigin=n(e)),e.crossOrigin&&(u||(e.client=i),e.emulateHTTP=!1),e}}},{"../util":35,"./client/xdr":15}],18:[function(e,t,r){var n=e("../util");t.exports={request:function(e){return e.method=e.method.toUpperCase(),e.headers=n.extend({},n.http.headers.common,e.crossOrigin?{}:n.http.headers.custom,n.http.headers[e.method.toLowerCase()],e.headers),n.isPlainObject(e.data)&&/^(GET|JSONP)$/i.test(e.method)&&(n.extend(e.params,e.data),delete e.data),e}}},{"../util":35}],19:[function(e,t,r){function n(e,t){var r,a,c=i;return n.interceptors.forEach(function(e){c=o(e,this.$vm)(c)},this),t=s.isObject(e)?e:s.extend({url:e},t),r=s.merge({},n.options,this.$options,t),a=c(r).bind(this.$vm).then(function(e){return e.ok?e:u.reject(e)},function(e){return e instanceof Error&&s.error(e),u.reject(e)}),r.success&&a.success(r.success),r.error&&a.error(r.error),a}var s=e("../util"),i=e("./client"),u=e("../promise"),o=e("./interceptor"),a={"Content-Type":"application/json"};n.options={method:"get",data:"",params:{},headers:{},xhr:null,upload:null,jsonp:"callback",beforeSend:null,crossOrigin:null,emulateHTTP:!1,emulateJSON:!1,timeout:0},n.interceptors=[e("./before"),e("./timeout"),e("./jsonp"),e("./method"),e("./mime"),e("./header"),e("./cors")],n.headers={put:a,post:a,patch:a,"delete":a,common:{Accept:"application/json, text/plain, */*"},custom:{"X-Requested-With":"XMLHttpRequest"}},["get","put","post","patch","delete","jsonp"].forEach(function(e){n[e]=function(t,r,n,i){return s.isFunction(r)&&(i=n,n=r,r=void 0),s.isObject(n)&&(i=n,n=void 0),this(t,s.extend({method:e,data:r,success:n},i))}}),t.exports=s.http=n},{"../promise":28,"../util":35,"./before":12,"./client":13,"./cors":17,"./header":18,"./interceptor":20,"./jsonp":21,"./method":22,"./mime":23,"./timeout":24}],20:[function(e,t,r){function n(e,t,r){var n=i.resolve(e);return arguments.length<2?n:n.then(t,r)}var s=e("../util"),i=e("../promise");t.exports=function(e,t){return function(r){return s.isFunction(e)&&(e=e.call(t,i)),function(i){return s.isFunction(e.request)&&(i=e.request.call(t,i)),n(i,function(i){return n(r(i),function(r){return s.isFunction(e.response)&&(r=e.response.call(t,r)),r})})}}}},{"../promise":28,"../util":35}],21:[function(e,t,r){var n=e("./client/jsonp");t.exports={request:function(e){return"JSONP"==e.method&&(e.client=n),e}}},{"./client/jsonp":14}],22:[function(e,t,r){t.exports={request:function(e){return e.emulateHTTP&&/^(PUT|PATCH|DELETE)$/i.test(e.method)&&(e.headers["X-HTTP-Method-Override"]=e.method,e.method="POST"),e}}},{}],23:[function(e,t,r){var n=e("../util");t.exports={request:function(e){return e.emulateJSON&&n.isPlainObject(e.data)&&(e.headers["Content-Type"]="application/x-www-form-urlencoded",e.data=n.url.params(e.data)),n.isObject(e.data)&&/FormData/i.test(e.data.toString())&&delete e.headers["Content-Type"],n.isPlainObject(e.data)&&(e.data=JSON.stringify(e.data)),e},response:function(e){try{e.data=JSON.parse(e.data)}catch(t){}return e}}},{"../util":35}],24:[function(e,t,r){t.exports=function(){var e;return{request:function(t){return t.timeout&&(e=setTimeout(function(){t.cancel()},t.timeout)),t},response:function(t){return clearTimeout(e),t}}}},{}],25:[function(e,t,r){function n(t){var r=e("./util");r.config=t.config,r.warning=t.util.warn,r.nextTick=t.util.nextTick,t.url=e("./url"),t.http=e("./http"),t.resource=e("./resource"),t.Promise=e("./promise"),Object.defineProperties(t.prototype,{$url:{get:function(){return r.options(t.url,this,this.$options.url)}},$http:{get:function(){return r.options(t.http,this,this.$options.http)}},$resource:{get:function(){return t.resource.bind(this)}},$promise:{get:function(){return function(e){return new t.Promise(e,this)}.bind(this)}}})}window.Vue&&Vue.use(n),t.exports=n},{"./http":19,"./promise":28,"./resource":29,"./url":30,"./util":35}],26:[function(e,t,r){function n(e){this.state=o,this.value=void 0,this.deferred=[];var t=this;try{e(function(e){t.resolve(e)},function(e){t.reject(e)})}catch(r){t.reject(r)}}var s=e("../util"),i=0,u=1,o=2;n.reject=function(e){return new n(function(t,r){r(e)})},n.resolve=function(e){return new n(function(t,r){t(e)})},n.all=function(e){return new n(function(t,r){function s(r){return function(n){u[r]=n,i+=1,i===e.length&&t(u)}}var i=0,u=[];0===e.length&&t(u);for(var o=0;o<e.length;o+=1)n.resolve(e[o]).then(s(o),r)})},n.race=function(e){return new n(function(t,r){for(var s=0;s<e.length;s+=1)n.resolve(e[s]).then(t,r)})};var a=n.prototype;a.resolve=function(e){var t=this;if(t.state===o){if(e===t)throw new TypeError("Promise settled with itself.");var r=!1;try{var n=e&&e.then;if(null!==e&&"object"==typeof e&&"function"==typeof n)return void n.call(e,function(e){r||t.resolve(e),r=!0},function(e){r||t.reject(e),r=!0})}catch(s){return void(r||t.reject(s))}t.state=i,t.value=e,t.notify()}},a.reject=function(e){var t=this;if(t.state===o){if(e===t)throw new TypeError("Promise settled with itself.");t.state=u,t.value=e,t.notify()}},a.notify=function(){var e=this;s.nextTick(function(){if(e.state!==o)for(;e.deferred.length;){var t=e.deferred.shift(),r=t[0],n=t[1],s=t[2],a=t[3];try{e.state===i?s("function"==typeof r?r.call(void 0,e.value):e.value):e.state===u&&("function"==typeof n?s(n.call(void 0,e.value)):a(e.value))}catch(c){a(c)}}})},a.then=function(e,t){var r=this;return new n(function(n,s){r.deferred.push([e,t,n,s]),r.notify()})},a["catch"]=function(e){return this.then(void 0,e)},t.exports=n},{"../util":35}],27:[function(e,t,r){r.expand=function(e,t,r){var n=this.parse(e),s=n.expand(t);return r&&r.push.apply(r,n.vars),s},r.parse=function(e){var t=["+","#",".","/",";","?","&"],n=[];return{vars:n,expand:function(s){return e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(e,i,u){if(i){var o=null,a=[];if(-1!==t.indexOf(i.charAt(0))&&(o=i.charAt(0),i=i.substr(1)),i.split(/,/g).forEach(function(e){var t=/([^:\*]*)(?::(\d+)|(\*))?/.exec(e);a.push.apply(a,r.getValues(s,o,t[1],t[2]||t[3])),n.push(t[1])}),o&&"+"!==o){var c=",";return"?"===o?c="&":"#"!==o&&(c=o),(0!==a.length?o:"")+a.join(c)}return a.join(",")}return r.encodeReserved(u)})}}},r.getValues=function(e,t,r,n){var s=e[r],i=[];if(this.isDefined(s)&&""!==s)if("string"==typeof s||"number"==typeof s||"boolean"==typeof s)s=s.toString(),n&&"*"!==n&&(s=s.substring(0,parseInt(n,10))),i.push(this.encodeValue(t,s,this.isKeyOperator(t)?r:null));else if("*"===n)Array.isArray(s)?s.filter(this.isDefined).forEach(function(e){i.push(this.encodeValue(t,e,this.isKeyOperator(t)?r:null))},this):Object.keys(s).forEach(function(e){this.isDefined(s[e])&&i.push(this.encodeValue(t,s[e],e))},this);else{var u=[];Array.isArray(s)?s.filter(this.isDefined).forEach(function(e){u.push(this.encodeValue(t,e))},this):Object.keys(s).forEach(function(e){this.isDefined(s[e])&&(u.push(encodeURIComponent(e)),u.push(this.encodeValue(t,s[e].toString())))},this),this.isKeyOperator(t)?i.push(encodeURIComponent(r)+"="+u.join(",")):0!==u.length&&i.push(u.join(","))}else";"===t?i.push(encodeURIComponent(r)):""!==s||"&"!==t&&"?"!==t?""===s&&i.push(""):i.push(encodeURIComponent(r)+"=");return i},r.isDefined=function(e){return void 0!==e&&null!==e},r.isKeyOperator=function(e){return";"===e||"&"===e||"?"===e},r.encodeValue=function(e,t,r){return t="+"===e||"#"===e?this.encodeReserved(t):encodeURIComponent(t),r?encodeURIComponent(r)+"="+t:t},r.encodeReserved=function(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e)),e}).join("")}},{}],28:[function(e,t,r){function n(e,t){e instanceof i?this.promise=e:this.promise=new i(e.bind(t)),this.context=t}var s=e("./util"),i=window.Promise||e("./lib/promise");n.all=function(e,t){return new n(i.all(e),t)},n.resolve=function(e,t){return new n(i.resolve(e),t)},n.reject=function(e,t){return new n(i.reject(e),t)},n.race=function(e,t){return new n(i.race(e),t)};var u=n.prototype;u.bind=function(e){return this.context=e,this},u.then=function(e,t){return e&&e.bind&&this.context&&(e=e.bind(this.context)),t&&t.bind&&this.context&&(t=t.bind(this.context)),this.promise=this.promise.then(e,t),this},u["catch"]=function(e){return e&&e.bind&&this.context&&(e=e.bind(this.context)),this.promise=this.promise["catch"](e),this},u["finally"]=function(e){return this.then(function(t){return e.call(this),t},function(t){return e.call(this),i.reject(t)})},u.success=function(e){return s.warn("The `success` method has been deprecated. Use the `then` method instead."),this.then(function(t){return e.call(this,t.data,t.status,t)||t})},u.error=function(e){return s.warn("The `error` method has been deprecated. Use the `catch` method instead."),this["catch"](function(t){return e.call(this,t.data,t.status,t)||t})},u.always=function(e){s.warn("The `always` method has been deprecated. Use the `finally` method instead.");var t=function(t){return e.call(this,t.data,t.status,t)||t};return this.then(t,t)},t.exports=n},{"./lib/promise":26,"./util":35}],29:[function(e,t,r){function n(e,t,r,u){var o=this,a={};return r=i.extend({},n.actions,r),i.each(r,function(r,n){r=i.merge({url:e,params:t||{}},u,r),a[n]=function(){return(o.$http||i.http)(s(r,arguments))}}),a}function s(e,t){var r,n,s,u=i.extend({},e),o={};switch(t.length){case 4:s=t[3],n=t[2];case 3:case 2:if(!i.isFunction(t[1])){o=t[0],r=t[1],n=t[2];break}if(i.isFunction(t[0])){n=t[0],s=t[1];break}n=t[1],s=t[2];case 1:i.isFunction(t[0])?n=t[0]:/^(POST|PUT|PATCH)$/i.test(u.method)?r=t[0]:o=t[0];
break;case 0:break;default:throw"Expected up to 4 arguments [params, data, success, error], got "+t.length+" arguments"}return u.data=r,u.params=i.extend({},u.params,o),n&&(u.success=n),s&&(u.error=s),u}var i=e("./util");n.actions={get:{method:"GET"},save:{method:"POST"},query:{method:"GET"},update:{method:"PUT"},remove:{method:"DELETE"},"delete":{method:"DELETE"}},t.exports=i.resource=n},{"./util":35}],30:[function(e,t,r){function n(e,t){var r,i=e;return u.isString(e)&&(i={url:e,params:t}),i=u.merge({},n.options,this.$options,i),n.transforms.forEach(function(e){r=s(e,r,this.$vm)},this),r(i)}function s(e,t,r){return function(n){return e.call(r,n,t)}}function i(e,t,r){var n,s=u.isArray(t),o=u.isPlainObject(t);u.each(t,function(t,a){n=u.isObject(t)||u.isArray(t),r&&(a=r+"["+(o||n?a:"")+"]"),!r&&s?e.add(t.name,t.value):n?i(e,t,a):e.add(a,t)})}var u=e("../util"),o=document.documentMode,a=document.createElement("a");n.options={url:"",root:null,params:{}},n.transforms=[e("./template"),e("./legacy"),e("./query"),e("./root")],n.params=function(e){var t=[],r=encodeURIComponent;return t.add=function(e,t){u.isFunction(t)&&(t=t()),null===t&&(t=""),this.push(r(e)+"="+r(t))},i(t,e),t.join("&").replace(/%20/g,"+")},n.parse=function(e){return o&&(a.href=e,e=a.href),a.href=e,{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",port:a.port,host:a.host,hostname:a.hostname,pathname:"/"===a.pathname.charAt(0)?a.pathname:"/"+a.pathname,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):""}},t.exports=u.url=n},{"../util":35,"./legacy":31,"./query":32,"./root":33,"./template":34}],31:[function(e,t,r){function n(e){return s(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function s(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}var i=e("../util");t.exports=function(e,t){var r=[],s=t(e);return s=s.replace(/(\/?):([a-z]\w*)/gi,function(t,s,u){return i.warn("The `:"+u+"` parameter syntax has been deprecated. Use the `{"+u+"}` syntax instead."),e.params[u]?(r.push(u),s+n(e.params[u])):""}),r.forEach(function(t){delete e.params[t]}),s}},{"../util":35}],32:[function(e,t,r){var n=e("../util");t.exports=function(e,t){var r=Object.keys(n.url.options.params),s={},i=t(e);return n.each(e.params,function(e,t){-1===r.indexOf(t)&&(s[t]=e)}),s=n.url.params(s),s&&(i+=(-1==i.indexOf("?")?"?":"&")+s),i}},{"../util":35}],33:[function(e,t,r){var n=e("../util");t.exports=function(e,t){var r=t(e);return n.isString(e.root)&&!r.match(/^(https?:)?\//)&&(r=e.root+"/"+r),r}},{"../util":35}],34:[function(e,t,r){var n=e("../lib/url-template");t.exports=function(e){var t=[],r=n.expand(e.url,e.params,t);return t.forEach(function(t){delete e.params[t]}),r}},{"../lib/url-template":27}],35:[function(e,t,r){function n(e,t,r){for(var i in t)r&&(s.isPlainObject(t[i])||s.isArray(t[i]))?(s.isPlainObject(t[i])&&!s.isPlainObject(e[i])&&(e[i]={}),s.isArray(t[i])&&!s.isArray(e[i])&&(e[i]=[]),n(e[i],t[i],r)):void 0!==t[i]&&(e[i]=t[i])}var s=r,i=[],u=window.console;s.warn=function(e){u&&s.warning&&(!s.config.silent||s.config.debug)&&u.warn("[VueResource warn]: "+e)},s.error=function(e){u&&u.error(e)},s.trim=function(e){return e.replace(/^\s*|\s*$/g,"")},s.toLower=function(e){return e?e.toLowerCase():""},s.isArray=Array.isArray,s.isString=function(e){return"string"==typeof e},s.isFunction=function(e){return"function"==typeof e},s.isObject=function(e){return null!==e&&"object"==typeof e},s.isPlainObject=function(e){return s.isObject(e)&&Object.getPrototypeOf(e)==Object.prototype},s.options=function(e,t,r){return r=r||{},s.isFunction(r)&&(r=r.call(t)),s.merge(e.bind({$vm:t,$options:r}),e,{$options:r})},s.each=function(e,t){var r,n;if("number"==typeof e.length)for(r=0;r<e.length;r++)t.call(e[r],e[r],r);else if(s.isObject(e))for(n in e)e.hasOwnProperty(n)&&t.call(e[n],e[n],n);return e},s.defaults=function(e,t){for(var r in t)void 0===e[r]&&(e[r]=t[r]);return e},s.extend=function(e){var t=i.slice.call(arguments,1);return t.forEach(function(t){n(e,t)}),e},s.merge=function(e){var t=i.slice.call(arguments,1);return t.forEach(function(t){n(e,t,!0)}),e}},{}]},{},[7]);